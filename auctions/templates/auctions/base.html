{% load static %}

<!DOCTYPE html>
<html lang="en">
    <head>
        <title>{% block title %}Baylee{% endblock %}</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
        <link href="{% static 'auctions/styles.css' %}?ver=1.2" rel="stylesheet">
        <script defer src="{% static 'auctions/script.js' %}"></script>
        <link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>
    </head>
    {% if user.dark_theme == True %}
    <body class="dark-theme">
    {% else %}
    <body>
    {% endif %}
        <header>
            <nav>
                <ul class="top-nav">
                    <li class="nav-item">
                        <h1>Auctions</h1>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/">Active Listings</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#">Categories</a>
                    </li>
                    {% if user.is_authenticated %}
                    {% else %}
                    {% endif %}
                    <div class="nav-right-side header-pfp">
                        {% if user.is_authenticated %}
                        <li class="nav-item">
                            <div class="h-r-content header-pfp">
                                <button type="button" class="pfp" id="pfp">
                                    <img src="{{ user.profile_picture }}" alt="Profile Picture" id="pfp">
                                </button>
                            </div>
                        </li>
                        {% else %}
                        <li class="nav-item">
                            <a class="nav-link sign-in-button"href="/login">
                                <i class='bx bx-user-circle'></i> Sign In
                            </a>
                        </li>
                        {% endif %}
                    </div>
                </ul>
            </nav>
        </header>
        <!-- The Modal -->
        {% if user.is_authenticated %}
        <div id="myModal" class="user-modal">
            <ul class="modal-menu">
                <li class="close">
                    <span class="close" id="mcb">&times;</span>
                </li>
                <li class="modal-pf-details-section">
                    <a href="{% url 'auctions:account' user.id %}">
                        <div class="mpd-cont">
                            <img src="{{ user.profile_picture }}" alt="Profile Picture" id="modal-pfp">
                            <div class="mdp-details">
                                <p id="modal-un"><strong>{{ user.username }}</strong></p>
                                <p id="modal-em">{{ user.email }}</p>
                            </div>
                        </div>
                    </a>
                </li>
                <li class="modal-item">
                    <a class="menu-link" href="#">
                        <i class='menu-link-icon bx bx-bookmark-alt'></i>Watchlist
                    </a>
                </li>
                <li class="modal-item">
                    <a class="menu-link" href="/create">
                        <i class='menu-link-icon bx bx-edit'></i>Create Listing
                    </a>
                </li>
                <li class="modal-item">
                    <a class="menu-link" href="#">
                        <i class='menu-link-icon bx bx-user'></i>Manage Account
                    </a>
                </li>
                <li class="modal-item">
                    <form method="POST">
                        {% if user.dark_theme == True %}
                        {% csrf_token %}
                        <i class="theme-icon bx bx-moon"></i>
                        <input type="submit" class="modal-theme-btn btn-toggle" name="theme_button" value="Switch to Light Mode">
                        {% else %}
                        {% csrf_token %}
                        <i class="theme-icon bx bx-sun"></i>
                        <input type="submit" class="modal-theme-btn btn-toggle" name="theme_button" value="Switch to Dark Mode">
                        {% endif %}
                    </form>
                </li>
                <li class="modal-item">
                    <a class="menu-link" href="/logout">
                        <i class='menu-link-icon bx bx-log-out'></i>Log Out
                    </a>
                </li>
            </ul>
            <div class="profile-popup">
            </div>
        </div>
        {% endif %}
        {% block body %}
        {% endblock %}
        <div id="snackbar"></div>
    </body>
</html>